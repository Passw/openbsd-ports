From 67ff0546c0dfb9f620f3f685cf2248017e501e76 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Alexander=20Aleksandrovi=C4=8D=20Klimov?=
 <alexander.klimov@icinga.com>
Date: Mon, 5 May 2025 17:58:28 +0200
Subject: [PATCH] Disable deprecation warnings unless ICINGAWEB_ENVIRONMENT is
 set to "dev" (#5359)

Index: library/Icinga/Application/webrouter.php
--- library/Icinga/Application/webrouter.php.orig
+++ library/Icinga/Application/webrouter.php
@@ -8,7 +8,7 @@ use Icinga\Web\Controller\StaticController;
 use Icinga\Web\JavaScript;
 use Icinga\Web\StyleSheet;
 
-error_reporting(E_ALL | E_STRICT);
+error_reporting(E_ALL & ~E_DEPRECATED & ~E_USER_DEPRECATED);
 
 if (isset($_SERVER['REQUEST_URI'])) {
     $ruri = $_SERVER['REQUEST_URI'];
