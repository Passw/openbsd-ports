Index: libtiff/tif_luv.c
--- libtiff/tif_luv.c.orig
+++ libtiff/tif_luv.c
@@ -791,7 +791,7 @@ static int tiff_itrunc(double x, int m)
 {
     if (m == SGILOGENCODE_NODITHER)
         return (int)x;
-    return (int)(x + _TIFFRand() * (1. / TIFF_RAND_MAX) - .5);
+    return (int)(x + arc4random() * (1. / TIFF_RAND_MAX) - .5);
 }
 
 #if !LOGLUV_PUBLIC
