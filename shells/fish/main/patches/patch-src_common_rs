Index: src/common.rs
--- src/common.rs.orig
+++ src/common.rs
@@ -1666,7 +1666,7 @@ pub fn get_executable_path(argv0: impl AsRef<Path>) ->
         }
         return path;
     }
-    argv0.as_ref().to_owned()
+    PathBuf::from("${PREFIX}/bin/fish")
 }
 
 /// A wrapper around Cell which supports modifying the contents, scoped to a region of code.
