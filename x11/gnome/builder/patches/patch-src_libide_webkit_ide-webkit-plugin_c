From af7a914a238325e509ea56acbba3266a2b9575e4 Mon Sep 17 00:00:00 2001
From: Christian Hergert <chergert@redhat.com>
Date: Wed, 28 May 2025 13:29:11 -0700
Subject: [PATCH] build: port to girepository-2.0

Index: src/libide/webkit/ide-webkit-plugin.c
--- src/libide/webkit/ide-webkit-plugin.c.orig
+++ src/libide/webkit/ide-webkit-plugin.c
@@ -23,7 +23,6 @@
 #include "config.h"
 
 #include <libpeas.h>
-#include <girepository.h>
 
 #include <libide-core.h>
 #include <libide-webkit-api.h>
@@ -106,7 +105,7 @@ _ide_webkit_register_types (PeasObjectModule *module)
   g_type_ensure (WEBKIT_TYPE_WEB_VIEW);
   g_type_ensure (IDE_TYPE_WEBKIT_PAGE);
 
-  if (!g_irepository_require (NULL,
+  if (!gi_repository_require (ide_get_gir_repository (),
                               PACKAGE_WEBKIT_GIR_NAME,
                               PACKAGE_WEBKIT_GIR_VERSION,
                               0, &error))
