Index: llvm/include/llvm/CodeGen/TargetFrameLowering.h
--- llvm/include/llvm/CodeGen/TargetFrameLowering.h.orig
+++ llvm/include/llvm/CodeGen/TargetFrameLowering.h
@@ -17,6 +17,7 @@
 #include "llvm/CodeGen/MachineBasicBlock.h"
 #include "llvm/CodeGen/MachineOptimizationRemarkEmitter.h"
 #include "llvm/Support/Compiler.h"
+#include "llvm/CodeGen/ReturnProtectorLowering.h"
 #include "llvm/Support/TypeSize.h"
 #include <vector>
 
@@ -217,6 +218,10 @@ class LLVM_ABI TargetFrameLowering { (public)
                             MachineBasicBlock &MBB) const = 0;
   virtual void emitEpilogue(MachineFunction &MF,
                             MachineBasicBlock &MBB) const = 0;
+
+  virtual const ReturnProtectorLowering *getReturnProtector() const {
+    return nullptr;
+  }
 
   /// emitZeroCallUsedRegs - Zeros out call used registers.
   virtual void emitZeroCallUsedRegs(BitVector RegsToZero,
